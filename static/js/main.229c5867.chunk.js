(this["webpackJsonpkanban-board-reactjs"]=this["webpackJsonpkanban-board-reactjs"]||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),l=a(6),s=(a(79),a(80),a(66)),i=a(20),d=a(34),u=a(67),m=a(42),_=a(10),b=Object(i.b)({}),f=Object(i.c)({name:"tasks",initialState:b.getInitialState({newListTitle:"",newCardTitles:{},isLoading:!1,isLoadingNewList:!1,isDeletingCard:!1,isDeletingList:!1}),reducers:{getTasks:function(e){e.isLoading=!0},tasksReceived:function(e,t){e.isLoading=!1,b.setAll(e,t.payload)},tasksFailed:function(e){e.isLoading=!1},startCreateList:function(e){e.isLoadingNewList=!0},createdList:function(e,t){b.addOne(e,t.payload),e.newListTitle="",e.isLoadingNewList=!1},startDeletingList:function(e){e.isDeletingList=!0},deletedList:function(e,t){b.removeOne(e,t.payload),e.isDeletingList=!1},onChangeNewListTitle:function(e,t){e.newListTitle=t.payload},startCreateCard:function(e,t){e.entities[t.payload.listId].isCreatingCard=!0},createdCard:function(e,t){var a=t.payload,n=a.listId,r=a.card;e.entities[n].isCreatingCard=!1,e.newCardTitles[n]="",e.entities[n].cards.push(r)},startDeletingCard:function(e){e.isDeletingCard=!0},deletedCard:function(e,t){var a=t.payload,n=a.listId,r=a.cardId,c=b.getSelectors().selectById(e,n),o=c.cards,l=o.findIndex((function(e){return e.id===r}));l>-1&&c.cards.splice(l,1),b.updateOne(e,{id:n,cards:o}),e.isDeletingCard=!1},onChangeNewCardTitle:function(e,t){var a=t.payload,n=a.listId,r=a.value,c=void 0===r?"":r;e.newCardTitles[n]=c}}}),p=f.actions,C=b.getSelectors((function(e){return e.tasks})),g=f.reducer;function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(_.c)(Object(m.a)(Object(m.a)({},e),{},{tasks:g}));return t}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},a=Object(u.a)(t),n=a.run,r=[a],c=[Object(d.a)({createReducer:v,runSaga:n})],o=Object(i.a)({reducer:v(),middleware:[].concat(Object(s.a)(Object(i.d)({thunk:!1})),r),preloadedState:e,devTools:!1,enhancers:c});return o}(),E=a(58),O=a(59),j=a(69),y=a(65),k=a(9),N=a.n(k),L=a(12),w=a.n(L),x=a(8),D=a(111),T=w.a.mark(F),S=w.a.mark(z),A=w.a.mark(M),I=w.a.mark(P),B=w.a.mark(q),W=w.a.mark(Q);function R(){return fetch("tasks.json").then((function(e){return e.json()}))}function F(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(x.a)(R);case 3:return e=t.sent,t.next=6,Object(x.c)(p.tasksReceived(e.tasks));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(x.c)(p.tasksFailed());case 12:case"end":return t.stop()}}),T,null,[[0,8]])}function z(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(x.b)(800);case 2:return a.next=4,Object(x.c)(p.createdCard({listId:e.payload.listId,card:{id:Object(D.a)(),title:e.payload.title}}));case 4:if(t=document.querySelector(".dashboard__column-".concat(e.payload.listId,"-cards"))){a.next=7;break}return a.abrupt("return");case 7:t.scrollTop=t.scrollHeight;case 8:case"end":return a.stop()}}),S)}function M(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(x.b)(800);case 2:return a.next=4,Object(x.c)(p.createdList({id:Object(D.a)(),title:e.payload.title,cards:[]}));case 4:if(t=document.querySelector(".dashboard-page")){a.next=7;break}return a.abrupt("return");case 7:t.scrollLeft=t.scrollWidth;case 8:case"end":return a.stop()}}),A)}function P(e){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.b)(800);case 2:return t.next=4,Object(x.c)(p.deletedList(e.payload));case 4:case"end":return t.stop()}}),I)}function q(e){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.b)(800);case 2:return t.next=4,Object(x.c)(p.deletedCard(e.payload));case 4:case"end":return t.stop()}}),B)}function Q(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.d)(p.getTasks.toString(),F);case 2:return e.next=4,Object(x.d)(p.startCreateList.toString(),M);case 4:return e.next=6,Object(x.d)(p.startDeletingList.toString(),P);case 6:return e.next=8,Object(x.d)(p.startCreateCard.toString(),z);case 8:return e.next=10,Object(x.d)(p.startDeletingCard.toString(),q);case 10:case"end":return e.stop()}}),W)}var V=a(21),Y=a(13),J=a(14),H=a(19),U=a(23),K=a(17),X=a.n(K);function Z(e){var t,a=e.type,n=e.displayType,c=e.children,o=e.icon,l=e.className,s=e.color,i=e.loading,d=Object(U.a)(e,["type","displayType","children","icon","className","color","loading"]);return r.a.createElement("button",Object.assign({type:a,className:N()((t={},Object(H.a)(t,X.a.button,!0),Object(H.a)(t,X.a["button--with-icon"],!!o),Object(H.a)(t,l,!!l),Object(H.a)(t,X.a.icon,"icon"===n),Object(H.a)(t,X.a.loading,i),t),X.a[s])},d),r.a.createElement("div",null,o&&r.a.createElement("span",{className:X.a.button__icon},o),"icon"!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:X.a.button__text},c))),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:X.a.button__spinner})))}Z.defaultProps={displayType:"default",type:"button",loading:!1};var $=a(5),G=a.n($);function ee(e){var t=e.isCreatingColumn,a=e.onStartCreateColumn;return r.a.createElement("div",{className:N()(G.a.column,G.a["column--create"])},r.a.createElement("div",{className:G.a.column__buttons},r.a.createElement(Z,{className:G.a.column__btn,onClick:a,disabled:t,icon:r.a.createElement(Y.a,{icon:J.a,size:"sm"})},"Add another list")))}var te=a(60),ae=a.n(te);function ne(e){var t=e.className,a=Object(U.a)(e,["className"]);return r.a.createElement("input",Object.assign({className:N()(t,ae.a.input)},a))}function re(e){var t=e.toggleStartedCreatingColumn,a=e.onAddList,n=Object(l.e)((function(e){return e.tasks.newListTitle})),c=Object(l.e)((function(e){return e.tasks.isLoadingNewList})),o=Object(l.d)();return r.a.createElement("form",{className:N()(G.a.column,G.a["column--new"]),onSubmit:function(e){e.preventDefault(),n.trim().length&&a(n)}},r.a.createElement("div",{className:G.a.column__header},r.a.createElement(ne,{className:G.a.column__headerInput,value:n,onChange:function(e){var t=e.target.value;o(p.onChangeNewListTitle(t))},autoFocus:!0,placeholder:"Enter list title..."})),r.a.createElement("div",{className:G.a.column__buttons},r.a.createElement(Z,{type:"submit",className:G.a["column__btn--create"],loading:c,color:"green",icon:r.a.createElement(Y.a,{icon:J.a,size:"sm"})},"Add List"),r.a.createElement(Z,{displayType:"icon",className:G.a["column__btn--cancel"],onClick:t,disabled:c,color:"transparent",icon:r.a.createElement(Y.a,{icon:J.b,size:"lg"})})))}var ce=a(68),oe=a(61),le=a.n(oe);function se(e){var t=e.className,a=e.inputRef,n=Object(U.a)(e,["className","inputRef"]);return r.a.createElement(ce.a,Object.assign({className:N()(le.a.textarea,t),ref:a},n))}se.defaultProps={className:""};var ie=a(4),de=a.n(ie),ue=a(37),me=a.n(ue);function _e(e){var t=e.maxWidth,a=e.children,n=r.a.createElement("div",{className:me.a.modal},r.a.createElement("div",{className:me.a.modal__content,style:{maxWidth:t}},a),r.a.createElement("div",{className:me.a.modal__overlay}));return Object(c.createPortal)(n,document.body)}_e.propTypes={maxWidth:de.a.oneOfType([de.a.string,de.a.number]),children:de.a.node},_e.defaultProps={maxWidth:350};var be=a(16),fe=a.n(be);function pe(e){var t=e.title,a=e.maxWidth,n=e.isDeleting,c=e.onDelete,o=e.onCancel;return r.a.createElement(_e,{maxWidth:a},r.a.createElement("div",{className:fe.a["card__delete-modal"]},r.a.createElement("div",{className:fe.a["delete-modal__title"]},"Are you sure to delete ",t,"?"),r.a.createElement("div",{className:fe.a["delete-modal__actions"]},r.a.createElement(Z,{className:fe.a["delete-modal__btn"],onClick:c,loading:n,color:"red"},"Delete"),r.a.createElement(Z,{className:fe.a["delete-modal__btn"],onClick:o,disabled:n,color:"dark-gray"},"Cancel"))))}var Ce=a(62),ge=a.n(Ce);function ve(e){var t=e.children;return r.a.createElement("h3",{className:ge.a.title},t)}var he=a(63),Ee=a.n(he);function Oe(e){var t=e.id,a=e.listId,c=e.title,o=e.onDeleteCard,s=Object(l.e)((function(e){return e.tasks.isDeletingCard})),i=Object(n.useState)(!1),d=Object(V.a)(i,2),u=d[0],m=d[1];function _(){m((function(e){return!e}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:fe.a.card},c,r.a.createElement(Z,{displayType:"icon",className:fe.a["card__delete-btn"],onClick:_,color:"red",icon:r.a.createElement(Y.a,{icon:J.b,size:"lg"})})),u&&r.a.createElement(pe,{title:c,isDeleting:s,onDelete:function(){o(a,t)},onCancel:_}))}function je(e){var t=e.id,a=e.cards,n=e.onDeleteCard;return a&&!a.length?null:r.a.createElement("ul",{className:Ee.a.cards},a.map((function(e){return r.a.createElement(Oe,{key:e.id,id:e.id,listId:t,title:e.title,onDeleteCard:n})})))}function ye(e){var t=e.id,a=e.title,c=e.cards,o=e.onDeleteList,s=e.onAddCard,i=e.onDeleteCard,d=Object(l.e)((function(e){return e.tasks.entities[t]})),u=Object(l.e)((function(e){return e.tasks.newCardTitles[t]})),m=Object(l.e)((function(e){return e.tasks.isDeletingList})),_=Object(n.useState)(!1),b=Object(V.a)(_,2),f=b[0],C=b[1],g=Object(n.useState)(!1),v=Object(V.a)(g,2),h=v[0],E=v[1],O=Object(l.d)(),j=Object(n.useRef)(),y=Object(n.useRef)();function k(e){e&&13===Number(e.which)&&(e.preventDefault(),x())}function L(){E((function(e){return!e}))}function w(){f||O(p.onChangeNewCardTitle({listId:t,value:""})),C((function(e){return!e}))}function x(){u.trim().length&&s({listId:t,title:u})}return Object(n.useEffect)((function(){var e=j.current;if(f&&e)return e.addEventListener("keypress",k),function(){e&&e.removeEventListener("keypress",k)}}),[j,f,u]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:G.a.column},a&&r.a.createElement("div",{className:G.a.column__header},r.a.createElement(ve,null,a),r.a.createElement(Z,{displayType:"icon",className:G.a["column__delete-list-btn"],onClick:L,color:"red",icon:r.a.createElement(Y.a,{icon:J.c})})),r.a.createElement("div",{ref:y,className:N()(G.a.column__cards,"dashboard__column-".concat(t,"-cards"))},r.a.createElement(je,{cards:c,id:t,onDeleteCard:i}),f&&r.a.createElement(se,{inputRef:j,value:u,onChange:function(e){var a=e.target.value;O(p.onChangeNewCardTitle({listId:t,value:a}))},placeholder:"Enter a title for this card...",minRows:3,maxRows:7,autoFocus:!0})),r.a.createElement("div",{className:G.a.column__buttons},f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{className:G.a["column__btn--create"],onClick:x,loading:d.isCreatingCard,color:"green",icon:r.a.createElement(Y.a,{icon:J.a,size:"sm"})},"Add Card"),r.a.createElement(Z,{displayType:"icon",onClick:w,className:G.a["column__btn--cancel"],color:"transparent",disabled:d.isCreatingCard,icon:r.a.createElement(Y.a,{icon:J.b,size:"lg"})})),!f&&r.a.createElement(Z,{onClick:w,className:G.a.column__btn,icon:r.a.createElement(Y.a,{icon:J.a,size:"sm"})},"Add a card"))),h&&r.a.createElement(pe,{title:a,maxWidth:400,isDeleting:m,onDelete:function(){o(t)},onCancel:L}))}je.defaultProps={cards:[]},ye.defaultProps={cards:[]};var ke=a(44),Ne=a.n(ke);function Le(e){var t=e.columns,a=e.onAddList,c=e.onDeleteList,o=e.onAddCard,l=e.onDeleteCard,s=Object(n.useState)(!1),i=Object(V.a)(s,2),d=i[0],u=i[1];function m(){u((function(e){return!e}))}return r.a.createElement("div",{className:Ne.a.columns},t.map((function(e){return r.a.createElement(ye,{key:e.id,id:e.id,cards:e.cards,title:e.title,onAddCard:o,onDeleteList:c,onDeleteCard:l})})),d&&r.a.createElement(re,{onAddList:a,toggleStartedCreatingColumn:m}),r.a.createElement(ee,{isCreatingColumn:d,onStartCreateColumn:m}),r.a.createElement("div",{className:Ne.a["columns__demy-column"]}))}Le.defaultProps={columns:[]};var we=a(64),xe=a.n(we),De=function(e){Object(j.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onAddList=function(t){(0,e.props.startCreateList)({title:t})},e.onDeleteList=function(t){(0,e.props.startDeletingList)(t)},e.onAddCard=function(t){(0,e.props.startCreateCard)(t)},e.onDeleteCard=function(t,a){(0,e.props.startDeletingCard)({listId:t,cardId:a})},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getTasks)()}},{key:"render",value:function(){var e=this.props.tasks;return r.a.createElement("div",{className:N()(xe.a.dashboard,"dashboard-page")},r.a.createElement(Le,{columns:e,onAddList:this.onAddList,onDeleteList:this.onDeleteList,onAddCard:this.onAddCard,onDeleteCard:this.onDeleteCard}))}}]),a}(n.Component);De.defaultProps={tasks:[]};var Te=Object(l.c)((function(e){return{tasks:C.selectAll(e)}}),(function(e){return{getTasks:function(){return e(p.getTasks())},startCreateList:function(t){return e(p.startCreateList(t))},startDeletingList:function(t){return e(p.startDeletingList(t))},startCreateCard:function(t){return e(p.startCreateCard(t))},startDeletingCard:function(t){return e(p.startDeletingCard(t))}}}))(Object(d.b)({key:"tasks",saga:Q})(De));var Se=function(){return r.a.createElement(Te,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:h},r.a.createElement(Se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},16:function(e,t,a){e.exports={card:"ColumnCard_card__3qMqY","card__delete-btn":"ColumnCard_card__delete-btn__3lY27","delete-modal__title":"ColumnCard_delete-modal__title__3Y0eQ","delete-modal__actions":"ColumnCard_delete-modal__actions__7AQly","delete-modal__btn":"ColumnCard_delete-modal__btn__Lszce"}},17:function(e,t,a){e.exports={button:"Button_button__2XPbj","button--with-icon":"Button_button--with-icon__2mTBF",button__text:"Button_button__text__3pwWn",icon:"Button_icon__1WJdU",green:"Button_green__1TOMw",red:"Button_red__3fO7b","dark-gray":"Button_dark-gray__nL9kN",transparent:"Button_transparent__17AuW",loading:"Button_loading__VYV8W",button__icon:"Button_button__icon__3WrMJ",button__spinner:"Button_button__spinner__KASpU",spinner:"Button_spinner__3OUQ3"}},37:function(e,t,a){e.exports={modal:"Modal_modal__3kgh3",modal__content:"Modal_modal__content__1ILQq",modal__overlay:"Modal_modal__overlay__c1s7q"}},44:function(e,t,a){e.exports={columns:"Columns_columns__lzzwH","columns__demy-column":"Columns_columns__demy-column__WrYhS"}},5:function(e,t,a){e.exports={column:"Column_column__3yOFN",column__header:"Column_column__header__1h3fQ","column--new":"Column_column--new__2yyfC","column__delete-list-btn":"Column_column__delete-list-btn__3wwCm",column__headerInput:"Column_column__headerInput__3RRuk",column__cards:"Column_column__cards__2EVMA",column__buttons:"Column_column__buttons__25buy","column--create":"Column_column--create__3V9bk",column__btn:"Column_column__btn__3Hseg","column__btn--create":"Column_column__btn--create__3t0ct","column__btn--cancel":"Column_column__btn--cancel__auBDM"}},60:function(e,t,a){e.exports={input:"Input_input__2ZPX1"}},61:function(e,t,a){e.exports={textarea:"Textarea_textarea__20Vs3"}},62:function(e,t,a){e.exports={title:"ColumnTitle_title__3gobv"}},63:function(e,t,a){e.exports={cards:"ColumnCards_cards__-bKoe"}},64:function(e,t,a){e.exports={dashboard:"Dashboard_dashboard__3f3Dv"}},70:function(e,t,a){e.exports=a(109)},80:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.229c5867.chunk.js.map